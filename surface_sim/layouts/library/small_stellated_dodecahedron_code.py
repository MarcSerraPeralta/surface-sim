from copy import deepcopy

from ..layout import Layout


def ssd_code(interaction_order: str = "parallel-6") -> Layout:
    """Returns a layout for the Small Stellated Dodecahedron code.

    Parameters
    ----------
    interaction_order
        Name of the CNOT interaction order to perform in the QEC cycle.
        By default 'parallel-6'. The list of names can be found in
        ``INTERACTION_ORDERS``.

    Returns
    -------
    Layout
        Layout of the SSD code.
    """
    if interaction_order not in INTERACTION_ORDERS:
        raise ValueError(
            f"'interaction_order' must be in {list(INTERACTION_ORDERS)}, "
            "but {interaction_order} was given."
        )

    layout_dict = deepcopy(SSD_LAYOUT_DICT)
    layout_dict["interaction_order"] = INTERACTION_ORDERS[interaction_order]
    return Layout(layout_dict)


INTERACTION_ORDERS = {
    "parallel-6": {
        "X1": ["D9", "D20", None, "D21", "D6", "D19"],
        "X2": ["D1", "D10", "D22", "D13", "D4", None],
        "X3": ["D14", "D17", None, "D23", "D9", "D7"],
        "X4": ["D11", "D13", "D20", "D24", None, "D18"],
        "X5": [None, "D25", "D15", "D17", "D1", "D3"],
        "X6": ["D2", "D4", "D27", "D18", "D30", None],
        "X7": ["D26", "D28", "D7", "D3", "D5", None],
        "X8": ["D6", "D27", "D8", "D29", "D11", None],
        "X9": ["D30", "D15", "D28", None, "D12", "D10"],
        "X10": ["D19", None, "D16", "D26", "D29", "D14"],
        "X11": ["D23", "D24", "D25", "D22", "D21", None],
        "X12": ["D16", None, "D12", "D5", "D2", "D8"],
        "Z1": ["D5", "D3", "D2", "D1", None, "D4"],
        "Z2": ["D7", "D5", "D9", None, "D8", "D6"],
        "Z3": ["D10", "D12", "D13", "D8", None, "D11"],
        "Z4": ["D15", "D16", "D17", "D12", "D14", None],
        "Z5": ["D20", None, "D19", "D16", "D18", "D2"],
        "Z6": ["D25", "D19", "D21", None, "D3", "D26"],
        "Z7": ["D21", "D22", "D6", "D4", "D27", None],
        "Z8": ["D28", "D7", "D23", "D10", "D22", None],
        "Z9": ["D29", "D11", "D14", None, "D24", "D23"],
        "Z10": ["D18", "D30", "D24", "D25", "D15", None],
        "Z11": ["D27", "D29", "D26", "D30", "D28", None],
        "Z12": ["D17", "D1", None, "D9", "D20", "D13"],
    }
}

SSD_LAYOUT_DICT = {
    "code": "smallest_stellated_dodecahedron",
    "logical_qubits": {
        "L1": {"ind": 0, "log_x": ["D27", "D26", "D21"], "log_z": ["D21", "D9", "D23"]},
        "L2": {
            "ind": 1,
            "log_x": ["D27", "D22", "D28"],
            "log_z": ["D24", "D22", "D13"],
        },
        "L3": {
            "ind": 2,
            "log_x": ["D30", "D25", "D26"],
            "log_z": ["D23", "D25", "D17"],
        },
        "L4": {"ind": 3, "log_x": ["D10", "D7", "D8"], "log_z": ["D10", "D15", "D1"]},
        "L5": {"ind": 4, "log_x": ["D2", "D3", "D19"], "log_z": ["D29", "D19", "D6"]},
        "L6": {
            "ind": 5,
            "log_x": ["D3", "D4", "D26", "D27"],
            "log_z": ["D4", "D18", "D13"],
        },
        "L7": {"ind": 6, "log_x": ["D11", "D12", "D14"], "log_z": ["D6", "D11", "D20"]},
        "L8": {
            "ind": 7,
            "log_x": ["D30", "D25", "D21", "D12", "D27", "D8", "D9", "D17"],
            "log_z": ["D23", "D24", "D20", "D9"],
        },
    },
    "distance": 3,
    "distance_x": 3,
    "distance_z": 3,
    "interaction_order": {},
    "layout": [
        {
            "qubit": "D1",
            "role": "data",
            "stab_type": None,
            "ind": 12,
            "neighbors": {"XA": "X2", "XB": "X5", "ZA": "Z1", "ZB": "Z12"},
            "coords": [-0.0025, -9.975],
        },
        {
            "qubit": "D2",
            "role": "data",
            "stab_type": None,
            "ind": 13,
            "neighbors": {"XA": "X6", "XB": "X12", "ZA": "Z1", "ZB": "Z5"},
            "coords": [-6.0175, -8.28],
        },
        {
            "qubit": "D3",
            "role": "data",
            "stab_type": None,
            "ind": 14,
            "neighbors": {"XA": "X5", "XB": "X7", "ZA": "Z1", "ZB": "Z6"},
            "coords": [-2.3925, -6.2725],
        },
        {
            "qubit": "D4",
            "role": "data",
            "stab_type": None,
            "ind": 15,
            "neighbors": {"XA": "X2", "XB": "X6", "ZA": "Z1", "ZB": "Z7"},
            "coords": [2.3925, -6.2725],
        },
        {
            "qubit": "D5",
            "role": "data",
            "stab_type": None,
            "ind": 16,
            "neighbors": {"XA": "X7", "XB": "X12", "ZA": "Z1", "ZB": "Z2"},
            "coords": [6.015, -8.28],
        },
        {
            "qubit": "D6",
            "role": "data",
            "stab_type": None,
            "ind": 17,
            "neighbors": {"XA": "X1", "XB": "X8", "ZA": "Z2", "ZB": "Z7"},
            "coords": [5.225, -4.215],
        },
        {
            "qubit": "D7",
            "role": "data",
            "stab_type": None,
            "ind": 18,
            "neighbors": {"XA": "X3", "XB": "X7", "ZA": "Z2", "ZB": "Z8"},
            "coords": [6.7025, 0.335],
        },
        {
            "qubit": "D8",
            "role": "data",
            "stab_type": None,
            "ind": 19,
            "neighbors": {"XA": "X8", "XB": "X12", "ZA": "Z2", "ZB": "Z3"},
            "coords": [9.7325, 3.1625],
        },
        {
            "qubit": "D9",
            "role": "data",
            "stab_type": None,
            "ind": 20,
            "neighbors": {"XA": "X1", "XB": "X3", "ZA": "Z2", "ZB": "Z12"},
            "coords": [9.485, -3.0825],
        },
        {
            "qubit": "D10",
            "role": "data",
            "stab_type": None,
            "ind": 21,
            "neighbors": {"XA": "X2", "XB": "X9", "ZA": "Z3", "ZB": "Z8"},
            "coords": [5.62, 3.67],
        },
        {
            "qubit": "D11",
            "role": "data",
            "stab_type": None,
            "ind": 22,
            "neighbors": {"XA": "X4", "XB": "X8", "ZA": "Z3", "ZB": "Z9"},
            "coords": [1.75, 6.4825],
        },
        {
            "qubit": "D12",
            "role": "data",
            "stab_type": None,
            "ind": 23,
            "neighbors": {"XA": "X9", "XB": "X12", "ZA": "Z3", "ZB": "Z4"},
            "coords": [0.0, 10.235],
        },
        {
            "qubit": "D13",
            "role": "data",
            "stab_type": None,
            "ind": 24,
            "neighbors": {"XA": "X2", "XB": "X4", "ZA": "Z3", "ZB": "Z12"},
            "coords": [5.8625, 8.07],
        },
        {
            "qubit": "D14",
            "role": "data",
            "stab_type": None,
            "ind": 25,
            "neighbors": {"XA": "X3", "XB": "X10", "ZA": "Z4", "ZB": "Z9"},
            "coords": [-1.75, 6.4825],
        },
        {
            "qubit": "D15",
            "role": "data",
            "stab_type": None,
            "ind": 26,
            "neighbors": {"XA": "X5", "XB": "X9", "ZA": "Z4", "ZB": "Z10"},
            "coords": [-5.62, 3.67],
        },
        {
            "qubit": "D16",
            "role": "data",
            "stab_type": None,
            "ind": 27,
            "neighbors": {"XA": "X10", "XB": "X12", "ZA": "Z4", "ZB": "Z5"},
            "coords": [-9.7325, 3.1625],
        },
        {
            "qubit": "D17",
            "role": "data",
            "stab_type": None,
            "ind": 28,
            "neighbors": {"XA": "X3", "XB": "X5", "ZA": "Z4", "ZB": "Z12"},
            "coords": [-5.8625, 8.07],
        },
        {
            "qubit": "D18",
            "role": "data",
            "stab_type": None,
            "ind": 29,
            "neighbors": {"XA": "X4", "XB": "X6", "ZA": "Z5", "ZB": "Z10"},
            "coords": [-6.705, 0.3375],
        },
        {
            "qubit": "D19",
            "role": "data",
            "stab_type": None,
            "ind": 30,
            "neighbors": {"XA": "X1", "XB": "X10", "ZA": "Z5", "ZB": "Z6"},
            "coords": [-5.2275, -4.2125],
        },
        {
            "qubit": "D20",
            "role": "data",
            "stab_type": None,
            "ind": 31,
            "neighbors": {"XA": "X1", "XB": "X4", "ZA": "Z5", "ZB": "Z12"},
            "coords": [-9.4875, -3.0825],
        },
        {
            "qubit": "D21",
            "role": "data",
            "stab_type": None,
            "ind": 32,
            "neighbors": {"XA": "X1", "XB": "X11", "ZA": "Z6", "ZB": "Z7"},
            "coords": [0.0, -4.265],
        },
        {
            "qubit": "D22",
            "role": "data",
            "stab_type": None,
            "ind": 33,
            "neighbors": {"XA": "X2", "XB": "X11", "ZA": "Z7", "ZB": "Z8"},
            "coords": [4.055, -1.32],
        },
        {
            "qubit": "D23",
            "role": "data",
            "stab_type": None,
            "ind": 34,
            "neighbors": {"XA": "X3", "XB": "X11", "ZA": "Z8", "ZB": "Z9"},
            "coords": [2.505, 3.4525],
        },
        {
            "qubit": "D24",
            "role": "data",
            "stab_type": None,
            "ind": 35,
            "neighbors": {"XA": "X4", "XB": "X11", "ZA": "Z9", "ZB": "Z10"},
            "coords": [-2.505, 3.4525],
        },
        {
            "qubit": "D25",
            "role": "data",
            "stab_type": None,
            "ind": 36,
            "neighbors": {"XA": "X5", "XB": "X11", "ZA": "Z6", "ZB": "Z10"},
            "coords": [-4.0575, -1.3175],
        },
        {
            "qubit": "D26",
            "role": "data",
            "stab_type": None,
            "ind": 37,
            "neighbors": {"XA": "X7", "XB": "X10", "ZA": "Z6", "ZB": "Z11"},
            "coords": [-1.1225, -1.6825],
        },
        {
            "qubit": "D27",
            "role": "data",
            "stab_type": None,
            "ind": 38,
            "neighbors": {"XA": "X6", "XB": "X8", "ZA": "Z7", "ZB": "Z11"},
            "coords": [1.2225, -1.6825],
        },
        {
            "qubit": "D28",
            "role": "data",
            "stab_type": None,
            "ind": 39,
            "neighbors": {"XA": "X7", "XB": "X9", "ZA": "Z8", "ZB": "Z11"},
            "coords": [1.9775, 0.6425],
        },
        {
            "qubit": "D29",
            "role": "data",
            "stab_type": None,
            "ind": 40,
            "neighbors": {"XA": "X8", "XB": "X10", "ZA": "Z9", "ZB": "Z11"},
            "coords": [0.0, 2.08],
        },
        {
            "qubit": "D30",
            "role": "data",
            "stab_type": None,
            "ind": 41,
            "neighbors": {"XA": "X6", "XB": "X9", "ZA": "Z10", "ZB": "Z11"},
            "coords": [-1.9775, 0.6425],
        },
        {
            "qubit": "X1",
            "role": "anc",
            "stab_type": "x_type",
            "ind": 42,
            "neighbors": {
                "DA": "D6",
                "DB": "D9",
                "DC": "D19",
                "DD": "D20",
                "DE": "D21",
            },
            "coords": [0.25, -7.566],
        },
        {
            "qubit": "X2",
            "role": "anc",
            "stab_type": "x_type",
            "ind": 43,
            "neighbors": {
                "DA": "D1",
                "DB": "D4",
                "DC": "D10",
                "DD": "D13",
                "DE": "D22",
            },
            "coords": [7.682, -2.166],
        },
        {
            "qubit": "X3",
            "role": "anc",
            "stab_type": "x_type",
            "ind": 44,
            "neighbors": {
                "DA": "D7",
                "DB": "D9",
                "DC": "D14",
                "DD": "D17",
                "DE": "D23",
            },
            "coords": [4.843, 6.574],
        },
        {
            "qubit": "X4",
            "role": "anc",
            "stab_type": "x_type",
            "ind": 45,
            "neighbors": {
                "DA": "D11",
                "DB": "D13",
                "DC": "D18",
                "DD": "D20",
                "DE": "D24",
            },
            "coords": [-4.343, 6.574],
        },
        {
            "qubit": "X5",
            "role": "anc",
            "stab_type": "x_type",
            "ind": 46,
            "neighbors": {
                "DA": "D1",
                "DB": "D3",
                "DC": "D15",
                "DD": "D17",
                "DE": "D25",
            },
            "coords": [-7.182, -2.166],
        },
        {
            "qubit": "X6",
            "role": "anc",
            "stab_type": "x_type",
            "ind": 47,
            "neighbors": {
                "DA": "D2",
                "DB": "D4",
                "DC": "D18",
                "DD": "D27",
                "DE": "D30",
            },
            "coords": [-2.33, -3.3],
        },
        {
            "qubit": "X7",
            "role": "anc",
            "stab_type": "x_type",
            "ind": 48,
            "neighbors": {"DA": "D3", "DB": "D5", "DC": "D7", "DD": "D26", "DE": "D28"},
            "coords": [2.83, -3.3],
        },
        {
            "qubit": "X8",
            "role": "anc",
            "stab_type": "x_type",
            "ind": 49,
            "neighbors": {
                "DA": "D6",
                "DB": "D8",
                "DC": "D11",
                "DD": "D27",
                "DE": "D29",
            },
            "coords": [4.423, 1.606],
        },
        {
            "qubit": "X9",
            "role": "anc",
            "stab_type": "x_type",
            "ind": 50,
            "neighbors": {
                "DA": "D10",
                "DB": "D12",
                "DC": "D15",
                "DD": "D28",
                "DE": "D30",
            },
            "coords": [0.25, 4.64],
        },
        {
            "qubit": "X10",
            "role": "anc",
            "stab_type": "x_type",
            "ind": 51,
            "neighbors": {
                "DA": "D14",
                "DB": "D16",
                "DC": "D19",
                "DD": "D26",
                "DE": "D29",
            },
            "coords": [-3.923, 1.606],
        },
        {
            "qubit": "X11",
            "role": "anc",
            "stab_type": "x_type",
            "ind": 52,
            "neighbors": {
                "DA": "D21",
                "DB": "D22",
                "DC": "D23",
                "DD": "D24",
                "DE": "D25",
            },
            "coords": [0.5, 0.0],
        },
        {
            "qubit": "X12",
            "role": "anc",
            "stab_type": "x_type",
            "ind": 53,
            "neighbors": {"DA": "D2", "DB": "D5", "DC": "D8", "DD": "D12", "DE": "D16"},
            "coords": [0.0, 0.5],
        },
        {
            "qubit": "Z1",
            "role": "anc",
            "stab_type": "z_type",
            "ind": -1,
            "neighbors": {"DA": "D1", "DB": "D2", "DC": "D3", "DD": "D4", "DE": "D5"},
            "coords": [-0.25, -8.066],
        },
        {
            "qubit": "Z2",
            "role": "anc",
            "stab_type": "z_type",
            "ind": 0,
            "neighbors": {"DA": "D5", "DB": "D6", "DC": "D7", "DD": "D8", "DE": "D9"},
            "coords": [7.182, -2.666],
        },
        {
            "qubit": "Z3",
            "role": "anc",
            "stab_type": "z_type",
            "ind": 1,
            "neighbors": {
                "DA": "D8",
                "DB": "D10",
                "DC": "D11",
                "DD": "D12",
                "DE": "D13",
            },
            "coords": [4.343, 6.074],
        },
        {
            "qubit": "Z4",
            "role": "anc",
            "stab_type": "z_type",
            "ind": 2,
            "neighbors": {
                "DA": "D12",
                "DB": "D14",
                "DC": "D15",
                "DD": "D16",
                "DE": "D17",
            },
            "coords": [-4.843, 6.074],
        },
        {
            "qubit": "Z5",
            "role": "anc",
            "stab_type": "z_type",
            "ind": 3,
            "neighbors": {
                "DA": "D2",
                "DB": "D16",
                "DC": "D18",
                "DD": "D19",
                "DE": "D20",
            },
            "coords": [-7.682, -2.666],
        },
        {
            "qubit": "Z6",
            "role": "anc",
            "stab_type": "z_type",
            "ind": 4,
            "neighbors": {
                "DA": "D3",
                "DB": "D19",
                "DC": "D21",
                "DD": "D25",
                "DE": "D26",
            },
            "coords": [-2.83, -3.8],
        },
        {
            "qubit": "Z7",
            "role": "anc",
            "stab_type": "z_type",
            "ind": 5,
            "neighbors": {
                "DA": "D4",
                "DB": "D6",
                "DC": "D21",
                "DD": "D22",
                "DE": "D27",
            },
            "coords": [2.33, -3.8],
        },
        {
            "qubit": "Z8",
            "role": "anc",
            "stab_type": "z_type",
            "ind": 6,
            "neighbors": {
                "DA": "D7",
                "DB": "D10",
                "DC": "D22",
                "DD": "D23",
                "DE": "D28",
            },
            "coords": [3.923, 1.106],
        },
        {
            "qubit": "Z9",
            "role": "anc",
            "stab_type": "z_type",
            "ind": 7,
            "neighbors": {
                "DA": "D11",
                "DB": "D14",
                "DC": "D23",
                "DD": "D24",
                "DE": "D29",
            },
            "coords": [-0.25, 4.14],
        },
        {
            "qubit": "Z10",
            "role": "anc",
            "stab_type": "z_type",
            "ind": 8,
            "neighbors": {
                "DA": "D15",
                "DB": "D18",
                "DC": "D24",
                "DD": "D25",
                "DE": "D30",
            },
            "coords": [-4.423, 1.106],
        },
        {
            "qubit": "Z11",
            "role": "anc",
            "stab_type": "z_type",
            "ind": 9,
            "neighbors": {
                "DA": "D26",
                "DB": "D27",
                "DC": "D28",
                "DD": "D29",
                "DE": "D30",
            },
            "coords": [0.0, -0.5],
        },
        {
            "qubit": "Z12",
            "role": "anc",
            "stab_type": "z_type",
            "ind": 10,
            "neighbors": {
                "DA": "D1",
                "DB": "D9",
                "DC": "D13",
                "DD": "D17",
                "DE": "D20",
            },
            "coords": [-0.5, 0.0],
        },
    ],
}
